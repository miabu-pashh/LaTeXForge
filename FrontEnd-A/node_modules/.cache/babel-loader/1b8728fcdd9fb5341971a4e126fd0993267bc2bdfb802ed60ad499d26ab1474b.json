{"ast":null,"code":"var _jsxFileName = \"/Users/maibupash/Desktop/MastersProjects/resuME/ResumeApp/Resume-FrontEnd/src/components/CoverLetterGeneration.js\",\n  _s = $RefreshSig$();\n// src/components/CoverLetterGeneration.js\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"../CSS/CoverLetterGeneration.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CoverLetterGeneration() {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  // Get the data passed from JDInput\n  const {\n    coverLetterData,\n    companyName,\n    jobDescription\n  } = location.state || {};\n\n  // State for editable content\n  const [editableContent, setEditableContent] = useState({\n    date: \"\",\n    companyName: \"\",\n    companyAddress: \"\",\n    salutation: \"Hiring Manager\",\n    content: \"\"\n  });\n\n  // State for PDF generation\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [pdfUrl, setPdfUrl] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n\n  // Initialize data when component mounts\n  useEffect(() => {\n    if (coverLetterData) {\n      // Parse the cover letter data to extract different parts\n      const lines = coverLetterData.split(\"\\n\");\n\n      // Try to extract date (usually the first line after header)\n      const datePattern = /^[A-Z][a-z]+ \\d{1,2}, \\d{4}$/;\n      let extractedDate = \"\";\n      let extractedCompanyName = companyName || \"\";\n      let extractedCompanyAddress = \"\";\n      let extractedSalutation = \"Hiring Manager\";\n      let contentStartIndex = 0;\n\n      // Find the date\n      for (let i = 0; i < lines.length; i++) {\n        if (datePattern.test(lines[i].trim())) {\n          extractedDate = lines[i].trim();\n\n          // Company name is usually after date\n          if (lines[i + 1] && lines[i + 1].includes(\"Hiring Manager\")) {\n            extractedSalutation = \"Hiring Manager\";\n            contentStartIndex = i + 2;\n          } else if (lines[i + 1]) {\n            // Extract company info\n            extractedCompanyName = lines[i + 1].trim() || companyName || \"\";\n            extractedCompanyAddress = lines[i + 2] ? lines[i + 2].trim() : \"\";\n\n            // Find salutation (usually starts with \"Dear\")\n            for (let j = i + 1; j < lines.length; j++) {\n              if (lines[j].startsWith(\"Dear \")) {\n                extractedSalutation = lines[j].replace(\"Dear \", \"\").replace(\",\", \"\").trim();\n                contentStartIndex = j + 1;\n                break;\n              }\n            }\n          }\n          break;\n        }\n      }\n\n      // Extract the main content (everything after salutation until signature)\n      let mainContent = \"\";\n      for (let i = contentStartIndex; i < lines.length; i++) {\n        if (lines[i].includes(\"Warm regards\") || lines[i].includes(\"Sincerely\") || lines[i].includes(\"Best regards\")) {\n          break;\n        }\n        if (lines[i].trim()) {\n          mainContent += lines[i] + \"\\n\\n\";\n        }\n      }\n      setEditableContent({\n        date: extractedDate || new Date().toLocaleDateString(\"en-US\", {\n          year: \"numeric\",\n          month: \"long\",\n          day: \"numeric\"\n        }),\n        companyName: extractedCompanyName,\n        companyAddress: extractedCompanyAddress,\n        salutation: extractedSalutation,\n        content: mainContent.trim()\n      });\n      setMessage(\"‚úÖ Cover letter loaded! You can edit the content before generating PDF.\");\n    } else {\n      setMessage(\"‚ùå No cover letter data found. Please generate content first.\");\n    }\n  }, [coverLetterData, companyName]);\n\n  // Handle content editing\n  const handleEdit = () => {\n    setIsEditing(true);\n  };\n  const handleSave = () => {\n    setIsEditing(false);\n    setMessage(\"üíæ Changes saved. Click 'Generate PDF' to create your cover letter.\");\n  };\n  const handleFieldChange = (field, value) => {\n    setEditableContent(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  // Generate PDF using Spring Boot backend\n  const handleGeneratePDF = async () => {\n    if (!editableContent.content) {\n      setMessage(\"‚ùå Please add content before generating PDF\");\n      return;\n    }\n    setIsLoading(true);\n    setMessage(\"‚è≥ Generating your cover letter PDF...\");\n    try {\n      // Prepare data for backend\n      const requestData = {\n        COVER_LETTER_DATE: editableContent.date,\n        COMPANY_NAME: editableContent.companyName,\n        COMPANY_ADDRESS: editableContent.companyAddress,\n        SALUTATION: editableContent.salutation,\n        CONTENT: editableContent.content\n      };\n      console.log(\"üì§ Sending to backend:\", requestData);\n      const response = await axios.post(\"http://localhost:8080/api/resume/generate-cover-letter\", requestData, {\n        responseType: \"blob\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n\n      // Create blob and URL for viewing\n      const blob = new Blob([response.data], {\n        type: \"application/pdf\"\n      });\n      const url = window.URL.createObjectURL(blob);\n      setPdfUrl(url);\n      setMessage(\"‚úÖ Cover letter PDF generated successfully!\");\n    } catch (error) {\n      console.error(\"‚ùå Error generating PDF:\", error);\n      setMessage(\"‚ùå Error generating PDF. Make sure the backend is running on port 8080.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Download PDF\n  const handleDownloadPDF = () => {\n    if (pdfUrl) {\n      const link = document.createElement(\"a\");\n      link.href = pdfUrl;\n      link.download = `cover-letter-${editableContent.companyName || \"document\"}.pdf`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      setMessage(\"üìÑ PDF downloaded successfully!\");\n    }\n  };\n\n  // Print PDF\n  const handlePrintPDF = () => {\n    if (pdfUrl) {\n      const printWindow = window.open(pdfUrl, \"_blank\");\n      printWindow.onload = () => {\n        printWindow.print();\n      };\n    }\n  };\n\n  // Go back to JDInput\n  const handleGoBack = () => {\n    navigate(\"/jdinput\");\n  };\n\n  // Copy to clipboard\n  const handleCopy = () => {\n    const fullContent = `${editableContent.date}\n\nHiring Manager\n${editableContent.companyName}\n${editableContent.companyAddress}\n\nDear ${editableContent.salutation},\n\n${editableContent.content}\n\nWarm regards,\nMahaboob Pasha Mohammad`;\n    navigator.clipboard.writeText(fullContent);\n    setMessage(\"üìã Cover letter copied to clipboard!\");\n    setTimeout(() => setMessage(\"\"), 3000);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cover-letter-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"cover-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleGoBack,\n        className: \"back-btn\",\n        children: \"\\u2190 Back to Job Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83D\\uDCC4 Cover Letter Generation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Edit your cover letter and generate professional PDF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), editableContent.companyName && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"company-badge\",\n        children: [\"\\uD83C\\uDFE2 \", editableContent.companyName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"three-column-layout\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uD83D\\uDCDD Original Content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCopy,\n            className: \"copy-btn\",\n            children: \"\\uD83D\\uDCCB Copy All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"original-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: editableContent.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Company:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: editableContent.companyName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Address:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: editableContent.companyAddress || \"Not provided\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Salutation:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Dear \", editableContent.salutation, \",\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Content:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"main-content\",\n              children: editableContent.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"middle-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u270F\\uFE0F Edit Content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit-actions\",\n            children: !isEditing ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleEdit,\n              className: \"edit-btn\",\n              children: \"\\u270F\\uFE0F Edit All\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSave,\n              className: \"save-btn\",\n              children: \"\\uD83D\\uDCBE Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"editable-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: editableContent.date,\n              onChange: e => handleFieldChange(\"date\", e.target.value),\n              disabled: !isEditing,\n              placeholder: \"January 1, 2025\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Company Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: editableContent.companyName,\n              onChange: e => handleFieldChange(\"companyName\", e.target.value),\n              disabled: !isEditing,\n              placeholder: \"Company Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Company Address:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: editableContent.companyAddress,\n              onChange: e => handleFieldChange(\"companyAddress\", e.target.value),\n              disabled: !isEditing,\n              placeholder: \"123 Street, City, State ZIP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Salutation (Dear ...):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: editableContent.salutation,\n              onChange: e => handleFieldChange(\"salutation\", e.target.value),\n              disabled: !isEditing,\n              placeholder: \"Hiring Manager\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Letter Content:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: editableContent.content,\n              onChange: e => handleFieldChange(\"content\", e.target.value),\n              disabled: !isEditing,\n              rows: \"15\",\n              placeholder: \"Enter your cover letter content...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleGeneratePDF,\n            disabled: !editableContent.content || isLoading,\n            className: \"generate-pdf-btn\",\n            children: isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"spinner-small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 19\n              }, this), \"Generating PDF...\"]\n            }, void 0, true) : \"üéØ Generate Cover Letter PDF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uD83D\\uDCC4 PDF Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this), pdfUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pdf-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleDownloadPDF,\n              className: \"action-btn download\",\n              children: \"\\uD83D\\uDCBE Download\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handlePrintPDF,\n              className: \"action-btn print\",\n              children: \"\\uD83D\\uDDA8\\uFE0F Print\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pdf-preview-container\",\n          children: pdfUrl ? /*#__PURE__*/_jsxDEV(\"iframe\", {\n            src: pdfUrl,\n            className: \"pdf-iframe\",\n            title: \"Cover Letter Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-preview\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no-preview-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"preview-icon\",\n                children: \"\\uD83D\\uDCC4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"No Preview Available\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Edit your content and click \\\"Generate PDF\\\" to see the preview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `status-message ${message.includes(\"‚úÖ\") ? \"success\" : message.includes(\"‚ùå\") ? \"error\" : message.includes(\"‚è≥\") ? \"loading\" : \"info\"}`,\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 228,\n    columnNumber: 5\n  }, this);\n}\n_s(CoverLetterGeneration, \"2R3kGF1TR9TxBf12ZD99lqmysEY=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = CoverLetterGeneration;\nexport default CoverLetterGeneration;\nvar _c;\n$RefreshReg$(_c, \"CoverLetterGeneration\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","CoverLetterGeneration","_s","location","navigate","coverLetterData","companyName","jobDescription","state","editableContent","setEditableContent","date","companyAddress","salutation","content","isLoading","setIsLoading","message","setMessage","pdfUrl","setPdfUrl","isEditing","setIsEditing","lines","split","datePattern","extractedDate","extractedCompanyName","extractedCompanyAddress","extractedSalutation","contentStartIndex","i","length","test","trim","includes","j","startsWith","replace","mainContent","Date","toLocaleDateString","year","month","day","handleEdit","handleSave","handleFieldChange","field","value","prev","handleGeneratePDF","requestData","COVER_LETTER_DATE","COMPANY_NAME","COMPANY_ADDRESS","SALUTATION","CONTENT","console","log","response","post","responseType","headers","blob","Blob","data","type","url","window","URL","createObjectURL","error","handleDownloadPDF","link","document","createElement","href","download","body","appendChild","click","removeChild","handlePrintPDF","printWindow","open","onload","print","handleGoBack","handleCopy","fullContent","navigator","clipboard","writeText","setTimeout","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","target","disabled","placeholder","rows","src","title","_c","$RefreshReg$"],"sources":["/Users/maibupash/Desktop/MastersProjects/resuME/ResumeApp/Resume-FrontEnd/src/components/CoverLetterGeneration.js"],"sourcesContent":["// src/components/CoverLetterGeneration.js\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"../CSS/CoverLetterGeneration.css\";\n\nfunction CoverLetterGeneration() {\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  // Get the data passed from JDInput\n  const { coverLetterData, companyName, jobDescription } = location.state || {};\n\n  // State for editable content\n  const [editableContent, setEditableContent] = useState({\n    date: \"\",\n    companyName: \"\",\n    companyAddress: \"\",\n    salutation: \"Hiring Manager\",\n    content: \"\",\n  });\n\n  // State for PDF generation\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [pdfUrl, setPdfUrl] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n\n  // Initialize data when component mounts\n  useEffect(() => {\n    if (coverLetterData) {\n      // Parse the cover letter data to extract different parts\n      const lines = coverLetterData.split(\"\\n\");\n\n      // Try to extract date (usually the first line after header)\n      const datePattern = /^[A-Z][a-z]+ \\d{1,2}, \\d{4}$/;\n      let extractedDate = \"\";\n      let extractedCompanyName = companyName || \"\";\n      let extractedCompanyAddress = \"\";\n      let extractedSalutation = \"Hiring Manager\";\n      let contentStartIndex = 0;\n\n      // Find the date\n      for (let i = 0; i < lines.length; i++) {\n        if (datePattern.test(lines[i].trim())) {\n          extractedDate = lines[i].trim();\n\n          // Company name is usually after date\n          if (lines[i + 1] && lines[i + 1].includes(\"Hiring Manager\")) {\n            extractedSalutation = \"Hiring Manager\";\n            contentStartIndex = i + 2;\n          } else if (lines[i + 1]) {\n            // Extract company info\n            extractedCompanyName = lines[i + 1].trim() || companyName || \"\";\n            extractedCompanyAddress = lines[i + 2] ? lines[i + 2].trim() : \"\";\n\n            // Find salutation (usually starts with \"Dear\")\n            for (let j = i + 1; j < lines.length; j++) {\n              if (lines[j].startsWith(\"Dear \")) {\n                extractedSalutation = lines[j]\n                  .replace(\"Dear \", \"\")\n                  .replace(\",\", \"\")\n                  .trim();\n                contentStartIndex = j + 1;\n                break;\n              }\n            }\n          }\n          break;\n        }\n      }\n\n      // Extract the main content (everything after salutation until signature)\n      let mainContent = \"\";\n      for (let i = contentStartIndex; i < lines.length; i++) {\n        if (\n          lines[i].includes(\"Warm regards\") ||\n          lines[i].includes(\"Sincerely\") ||\n          lines[i].includes(\"Best regards\")\n        ) {\n          break;\n        }\n        if (lines[i].trim()) {\n          mainContent += lines[i] + \"\\n\\n\";\n        }\n      }\n\n      setEditableContent({\n        date:\n          extractedDate ||\n          new Date().toLocaleDateString(\"en-US\", {\n            year: \"numeric\",\n            month: \"long\",\n            day: \"numeric\",\n          }),\n        companyName: extractedCompanyName,\n        companyAddress: extractedCompanyAddress,\n        salutation: extractedSalutation,\n        content: mainContent.trim(),\n      });\n\n      setMessage(\n        \"‚úÖ Cover letter loaded! You can edit the content before generating PDF.\"\n      );\n    } else {\n      setMessage(\n        \"‚ùå No cover letter data found. Please generate content first.\"\n      );\n    }\n  }, [coverLetterData, companyName]);\n\n  // Handle content editing\n  const handleEdit = () => {\n    setIsEditing(true);\n  };\n\n  const handleSave = () => {\n    setIsEditing(false);\n    setMessage(\n      \"üíæ Changes saved. Click 'Generate PDF' to create your cover letter.\"\n    );\n  };\n\n  const handleFieldChange = (field, value) => {\n    setEditableContent((prev) => ({ ...prev, [field]: value }));\n  };\n\n  // Generate PDF using Spring Boot backend\n  const handleGeneratePDF = async () => {\n    if (!editableContent.content) {\n      setMessage(\"‚ùå Please add content before generating PDF\");\n      return;\n    }\n\n    setIsLoading(true);\n    setMessage(\"‚è≥ Generating your cover letter PDF...\");\n\n    try {\n      // Prepare data for backend\n      const requestData = {\n        COVER_LETTER_DATE: editableContent.date,\n        COMPANY_NAME: editableContent.companyName,\n        COMPANY_ADDRESS: editableContent.companyAddress,\n        SALUTATION: editableContent.salutation,\n        CONTENT: editableContent.content,\n      };\n\n      console.log(\"üì§ Sending to backend:\", requestData);\n\n      const response = await axios.post(\n        \"http://localhost:8080/api/resume/generate-cover-letter\",\n        requestData,\n        {\n          responseType: \"blob\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n\n      // Create blob and URL for viewing\n      const blob = new Blob([response.data], { type: \"application/pdf\" });\n      const url = window.URL.createObjectURL(blob);\n\n      setPdfUrl(url);\n      setMessage(\"‚úÖ Cover letter PDF generated successfully!\");\n    } catch (error) {\n      console.error(\"‚ùå Error generating PDF:\", error);\n      setMessage(\n        \"‚ùå Error generating PDF. Make sure the backend is running on port 8080.\"\n      );\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Download PDF\n  const handleDownloadPDF = () => {\n    if (pdfUrl) {\n      const link = document.createElement(\"a\");\n      link.href = pdfUrl;\n      link.download = `cover-letter-${\n        editableContent.companyName || \"document\"\n      }.pdf`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      setMessage(\"üìÑ PDF downloaded successfully!\");\n    }\n  };\n\n  // Print PDF\n  const handlePrintPDF = () => {\n    if (pdfUrl) {\n      const printWindow = window.open(pdfUrl, \"_blank\");\n      printWindow.onload = () => {\n        printWindow.print();\n      };\n    }\n  };\n\n  // Go back to JDInput\n  const handleGoBack = () => {\n    navigate(\"/jdinput\");\n  };\n\n  // Copy to clipboard\n  const handleCopy = () => {\n    const fullContent = `${editableContent.date}\n\nHiring Manager\n${editableContent.companyName}\n${editableContent.companyAddress}\n\nDear ${editableContent.salutation},\n\n${editableContent.content}\n\nWarm regards,\nMahaboob Pasha Mohammad`;\n\n    navigator.clipboard.writeText(fullContent);\n    setMessage(\"üìã Cover letter copied to clipboard!\");\n    setTimeout(() => setMessage(\"\"), 3000);\n  };\n\n  return (\n    <div className=\"cover-letter-container\">\n      {/* Header */}\n      <header className=\"cover-header\">\n        <button onClick={handleGoBack} className=\"back-btn\">\n          ‚Üê Back to Job Analysis\n        </button>\n        <div className=\"header-content\">\n          <h1>üìÑ Cover Letter Generation</h1>\n          <p>Edit your cover letter and generate professional PDF</p>\n        </div>\n        {editableContent.companyName && (\n          <span className=\"company-badge\">\n            üè¢ {editableContent.companyName}\n          </span>\n        )}\n      </header>\n\n      {/* Three Column Layout */}\n      <div className=\"three-column-layout\">\n        {/* Left Panel - Original Content */}\n        <div className=\"left-panel\">\n          <div className=\"panel-header\">\n            <h2>üìù Original Content</h2>\n            <button onClick={handleCopy} className=\"copy-btn\">\n              üìã Copy All\n            </button>\n          </div>\n          <div className=\"original-content\">\n            <div className=\"content-section\">\n              <label>Date:</label>\n              <p>{editableContent.date}</p>\n            </div>\n            <div className=\"content-section\">\n              <label>Company:</label>\n              <p>{editableContent.companyName}</p>\n            </div>\n            <div className=\"content-section\">\n              <label>Address:</label>\n              <p>{editableContent.companyAddress || \"Not provided\"}</p>\n            </div>\n            <div className=\"content-section\">\n              <label>Salutation:</label>\n              <p>Dear {editableContent.salutation},</p>\n            </div>\n            <div className=\"content-section\">\n              <label>Content:</label>\n              <p className=\"main-content\">{editableContent.content}</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Middle Panel - Editable Content */}\n        <div className=\"middle-panel\">\n          <div className=\"panel-header\">\n            <h2>‚úèÔ∏è Edit Content</h2>\n            <div className=\"edit-actions\">\n              {!isEditing ? (\n                <button onClick={handleEdit} className=\"edit-btn\">\n                  ‚úèÔ∏è Edit All\n                </button>\n              ) : (\n                <button onClick={handleSave} className=\"save-btn\">\n                  üíæ Save Changes\n                </button>\n              )}\n            </div>\n          </div>\n\n          <div className=\"editable-form\">\n            <div className=\"form-group\">\n              <label>Date:</label>\n              <input\n                type=\"text\"\n                value={editableContent.date}\n                onChange={(e) => handleFieldChange(\"date\", e.target.value)}\n                disabled={!isEditing}\n                placeholder=\"January 1, 2025\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label>Company Name:</label>\n              <input\n                type=\"text\"\n                value={editableContent.companyName}\n                onChange={(e) =>\n                  handleFieldChange(\"companyName\", e.target.value)\n                }\n                disabled={!isEditing}\n                placeholder=\"Company Name\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label>Company Address:</label>\n              <input\n                type=\"text\"\n                value={editableContent.companyAddress}\n                onChange={(e) =>\n                  handleFieldChange(\"companyAddress\", e.target.value)\n                }\n                disabled={!isEditing}\n                placeholder=\"123 Street, City, State ZIP\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label>Salutation (Dear ...):</label>\n              <input\n                type=\"text\"\n                value={editableContent.salutation}\n                onChange={(e) =>\n                  handleFieldChange(\"salutation\", e.target.value)\n                }\n                disabled={!isEditing}\n                placeholder=\"Hiring Manager\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label>Letter Content:</label>\n              <textarea\n                value={editableContent.content}\n                onChange={(e) => handleFieldChange(\"content\", e.target.value)}\n                disabled={!isEditing}\n                rows=\"15\"\n                placeholder=\"Enter your cover letter content...\"\n              />\n            </div>\n\n            <button\n              onClick={handleGeneratePDF}\n              disabled={!editableContent.content || isLoading}\n              className=\"generate-pdf-btn\"\n            >\n              {isLoading ? (\n                <>\n                  <span className=\"spinner-small\"></span>\n                  Generating PDF...\n                </>\n              ) : (\n                \"üéØ Generate Cover Letter PDF\"\n              )}\n            </button>\n          </div>\n        </div>\n\n        {/* Right Panel - PDF Preview */}\n        <div className=\"right-panel\">\n          <div className=\"panel-header\">\n            <h2>üìÑ PDF Preview</h2>\n            {pdfUrl && (\n              <div className=\"pdf-actions\">\n                <button\n                  onClick={handleDownloadPDF}\n                  className=\"action-btn download\"\n                >\n                  üíæ Download\n                </button>\n                <button onClick={handlePrintPDF} className=\"action-btn print\">\n                  üñ®Ô∏è Print\n                </button>\n              </div>\n            )}\n          </div>\n\n          <div className=\"pdf-preview-container\">\n            {pdfUrl ? (\n              <iframe\n                src={pdfUrl}\n                className=\"pdf-iframe\"\n                title=\"Cover Letter Preview\"\n              />\n            ) : (\n              <div className=\"no-preview\">\n                <div className=\"no-preview-content\">\n                  <span className=\"preview-icon\">üìÑ</span>\n                  <h3>No Preview Available</h3>\n                  <p>\n                    Edit your content and click \"Generate PDF\" to see the\n                    preview\n                  </p>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Status Message */}\n      {message && (\n        <div\n          className={`status-message ${\n            message.includes(\"‚úÖ\")\n              ? \"success\"\n              : message.includes(\"‚ùå\")\n              ? \"error\"\n              : message.includes(\"‚è≥\")\n              ? \"loading\"\n              : \"info\"\n          }`}\n        >\n          {message}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default CoverLetterGeneration;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,kCAAkC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE1C,SAASC,qBAAqBA,CAAA,EAAG;EAAAC,EAAA;EAC/B,MAAMC,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAC9B,MAAMU,QAAQ,GAAGT,WAAW,CAAC,CAAC;;EAE9B;EACA,MAAM;IAAEU,eAAe;IAAEC,WAAW;IAAEC;EAAe,CAAC,GAAGJ,QAAQ,CAACK,KAAK,IAAI,CAAC,CAAC;;EAE7E;EACA,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGlB,QAAQ,CAAC;IACrDmB,IAAI,EAAE,EAAE;IACRL,WAAW,EAAE,EAAE;IACfM,cAAc,EAAE,EAAE;IAClBC,UAAU,EAAE,gBAAgB;IAC5BC,OAAO,EAAE;EACX,CAAC,CAAC;;EAEF;EACA,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACyB,OAAO,EAAEC,UAAU,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAAC2B,MAAM,EAAEC,SAAS,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAAC6B,SAAS,EAAEC,YAAY,CAAC,GAAG9B,QAAQ,CAAC,KAAK,CAAC;;EAEjD;EACAC,SAAS,CAAC,MAAM;IACd,IAAIY,eAAe,EAAE;MACnB;MACA,MAAMkB,KAAK,GAAGlB,eAAe,CAACmB,KAAK,CAAC,IAAI,CAAC;;MAEzC;MACA,MAAMC,WAAW,GAAG,8BAA8B;MAClD,IAAIC,aAAa,GAAG,EAAE;MACtB,IAAIC,oBAAoB,GAAGrB,WAAW,IAAI,EAAE;MAC5C,IAAIsB,uBAAuB,GAAG,EAAE;MAChC,IAAIC,mBAAmB,GAAG,gBAAgB;MAC1C,IAAIC,iBAAiB,GAAG,CAAC;;MAEzB;MACA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,KAAK,CAACS,MAAM,EAAED,CAAC,EAAE,EAAE;QACrC,IAAIN,WAAW,CAACQ,IAAI,CAACV,KAAK,CAACQ,CAAC,CAAC,CAACG,IAAI,CAAC,CAAC,CAAC,EAAE;UACrCR,aAAa,GAAGH,KAAK,CAACQ,CAAC,CAAC,CAACG,IAAI,CAAC,CAAC;;UAE/B;UACA,IAAIX,KAAK,CAACQ,CAAC,GAAG,CAAC,CAAC,IAAIR,KAAK,CAACQ,CAAC,GAAG,CAAC,CAAC,CAACI,QAAQ,CAAC,gBAAgB,CAAC,EAAE;YAC3DN,mBAAmB,GAAG,gBAAgB;YACtCC,iBAAiB,GAAGC,CAAC,GAAG,CAAC;UAC3B,CAAC,MAAM,IAAIR,KAAK,CAACQ,CAAC,GAAG,CAAC,CAAC,EAAE;YACvB;YACAJ,oBAAoB,GAAGJ,KAAK,CAACQ,CAAC,GAAG,CAAC,CAAC,CAACG,IAAI,CAAC,CAAC,IAAI5B,WAAW,IAAI,EAAE;YAC/DsB,uBAAuB,GAAGL,KAAK,CAACQ,CAAC,GAAG,CAAC,CAAC,GAAGR,KAAK,CAACQ,CAAC,GAAG,CAAC,CAAC,CAACG,IAAI,CAAC,CAAC,GAAG,EAAE;;YAEjE;YACA,KAAK,IAAIE,CAAC,GAAGL,CAAC,GAAG,CAAC,EAAEK,CAAC,GAAGb,KAAK,CAACS,MAAM,EAAEI,CAAC,EAAE,EAAE;cACzC,IAAIb,KAAK,CAACa,CAAC,CAAC,CAACC,UAAU,CAAC,OAAO,CAAC,EAAE;gBAChCR,mBAAmB,GAAGN,KAAK,CAACa,CAAC,CAAC,CAC3BE,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CACpBA,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAChBJ,IAAI,CAAC,CAAC;gBACTJ,iBAAiB,GAAGM,CAAC,GAAG,CAAC;gBACzB;cACF;YACF;UACF;UACA;QACF;MACF;;MAEA;MACA,IAAIG,WAAW,GAAG,EAAE;MACpB,KAAK,IAAIR,CAAC,GAAGD,iBAAiB,EAAEC,CAAC,GAAGR,KAAK,CAACS,MAAM,EAAED,CAAC,EAAE,EAAE;QACrD,IACER,KAAK,CAACQ,CAAC,CAAC,CAACI,QAAQ,CAAC,cAAc,CAAC,IACjCZ,KAAK,CAACQ,CAAC,CAAC,CAACI,QAAQ,CAAC,WAAW,CAAC,IAC9BZ,KAAK,CAACQ,CAAC,CAAC,CAACI,QAAQ,CAAC,cAAc,CAAC,EACjC;UACA;QACF;QACA,IAAIZ,KAAK,CAACQ,CAAC,CAAC,CAACG,IAAI,CAAC,CAAC,EAAE;UACnBK,WAAW,IAAIhB,KAAK,CAACQ,CAAC,CAAC,GAAG,MAAM;QAClC;MACF;MAEArB,kBAAkB,CAAC;QACjBC,IAAI,EACFe,aAAa,IACb,IAAIc,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,OAAO,EAAE;UACrCC,IAAI,EAAE,SAAS;UACfC,KAAK,EAAE,MAAM;UACbC,GAAG,EAAE;QACP,CAAC,CAAC;QACJtC,WAAW,EAAEqB,oBAAoB;QACjCf,cAAc,EAAEgB,uBAAuB;QACvCf,UAAU,EAAEgB,mBAAmB;QAC/Bf,OAAO,EAAEyB,WAAW,CAACL,IAAI,CAAC;MAC5B,CAAC,CAAC;MAEFhB,UAAU,CACR,wEACF,CAAC;IACH,CAAC,MAAM;MACLA,UAAU,CACR,8DACF,CAAC;IACH;EACF,CAAC,EAAE,CAACb,eAAe,EAAEC,WAAW,CAAC,CAAC;;EAElC;EACA,MAAMuC,UAAU,GAAGA,CAAA,KAAM;IACvBvB,YAAY,CAAC,IAAI,CAAC;EACpB,CAAC;EAED,MAAMwB,UAAU,GAAGA,CAAA,KAAM;IACvBxB,YAAY,CAAC,KAAK,CAAC;IACnBJ,UAAU,CACR,qEACF,CAAC;EACH,CAAC;EAED,MAAM6B,iBAAiB,GAAGA,CAACC,KAAK,EAAEC,KAAK,KAAK;IAC1CvC,kBAAkB,CAAEwC,IAAI,KAAM;MAAE,GAAGA,IAAI;MAAE,CAACF,KAAK,GAAGC;IAAM,CAAC,CAAC,CAAC;EAC7D,CAAC;;EAED;EACA,MAAME,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI,CAAC1C,eAAe,CAACK,OAAO,EAAE;MAC5BI,UAAU,CAAC,4CAA4C,CAAC;MACxD;IACF;IAEAF,YAAY,CAAC,IAAI,CAAC;IAClBE,UAAU,CAAC,uCAAuC,CAAC;IAEnD,IAAI;MACF;MACA,MAAMkC,WAAW,GAAG;QAClBC,iBAAiB,EAAE5C,eAAe,CAACE,IAAI;QACvC2C,YAAY,EAAE7C,eAAe,CAACH,WAAW;QACzCiD,eAAe,EAAE9C,eAAe,CAACG,cAAc;QAC/C4C,UAAU,EAAE/C,eAAe,CAACI,UAAU;QACtC4C,OAAO,EAAEhD,eAAe,CAACK;MAC3B,CAAC;MAED4C,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEP,WAAW,CAAC;MAElD,MAAMQ,QAAQ,GAAG,MAAMhE,KAAK,CAACiE,IAAI,CAC/B,wDAAwD,EACxDT,WAAW,EACX;QACEU,YAAY,EAAE,MAAM;QACpBC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CACF,CAAC;;MAED;MACA,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACL,QAAQ,CAACM,IAAI,CAAC,EAAE;QAAEC,IAAI,EAAE;MAAkB,CAAC,CAAC;MACnE,MAAMC,GAAG,GAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACP,IAAI,CAAC;MAE5C5C,SAAS,CAACgD,GAAG,CAAC;MACdlD,UAAU,CAAC,4CAA4C,CAAC;IAC1D,CAAC,CAAC,OAAOsD,KAAK,EAAE;MACdd,OAAO,CAACc,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/CtD,UAAU,CACR,wEACF,CAAC;IACH,CAAC,SAAS;MACRF,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;;EAED;EACA,MAAMyD,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,IAAItD,MAAM,EAAE;MACV,MAAMuD,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACxCF,IAAI,CAACG,IAAI,GAAG1D,MAAM;MAClBuD,IAAI,CAACI,QAAQ,GAAG,gBACdrE,eAAe,CAACH,WAAW,IAAI,UAAU,MACrC;MACNqE,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,IAAI,CAAC;MAC/BA,IAAI,CAACO,KAAK,CAAC,CAAC;MACZN,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACR,IAAI,CAAC;MAC/BxD,UAAU,CAAC,iCAAiC,CAAC;IAC/C;EACF,CAAC;;EAED;EACA,MAAMiE,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAIhE,MAAM,EAAE;MACV,MAAMiE,WAAW,GAAGf,MAAM,CAACgB,IAAI,CAAClE,MAAM,EAAE,QAAQ,CAAC;MACjDiE,WAAW,CAACE,MAAM,GAAG,MAAM;QACzBF,WAAW,CAACG,KAAK,CAAC,CAAC;MACrB,CAAC;IACH;EACF,CAAC;;EAED;EACA,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzBpF,QAAQ,CAAC,UAAU,CAAC;EACtB,CAAC;;EAED;EACA,MAAMqF,UAAU,GAAGA,CAAA,KAAM;IACvB,MAAMC,WAAW,GAAG,GAAGjF,eAAe,CAACE,IAAI;AAC/C;AACA;AACA,EAAEF,eAAe,CAACH,WAAW;AAC7B,EAAEG,eAAe,CAACG,cAAc;AAChC;AACA,OAAOH,eAAe,CAACI,UAAU;AACjC;AACA,EAAEJ,eAAe,CAACK,OAAO;AACzB;AACA;AACA,wBAAwB;IAEpB6E,SAAS,CAACC,SAAS,CAACC,SAAS,CAACH,WAAW,CAAC;IAC1CxE,UAAU,CAAC,sCAAsC,CAAC;IAClD4E,UAAU,CAAC,MAAM5E,UAAU,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC;EACxC,CAAC;EAED,oBACEpB,OAAA;IAAKiG,SAAS,EAAC,wBAAwB;IAAAC,QAAA,gBAErClG,OAAA;MAAQiG,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC9BlG,OAAA;QAAQmG,OAAO,EAAET,YAAa;QAACO,SAAS,EAAC,UAAU;QAAAC,QAAA,EAAC;MAEpD;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACTvG,OAAA;QAAKiG,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BlG,OAAA;UAAAkG,QAAA,EAAI;QAA0B;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnCvG,OAAA;UAAAkG,QAAA,EAAG;QAAoD;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxD,CAAC,EACL5F,eAAe,CAACH,WAAW,iBAC1BR,OAAA;QAAMiG,SAAS,EAAC,eAAe;QAAAC,QAAA,GAAC,eAC3B,EAACvF,eAAe,CAACH,WAAW;MAAA;QAAA4F,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3B,CACP;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACK,CAAC,eAGTvG,OAAA;MAAKiG,SAAS,EAAC,qBAAqB;MAAAC,QAAA,gBAElClG,OAAA;QAAKiG,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzBlG,OAAA;UAAKiG,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3BlG,OAAA;YAAAkG,QAAA,EAAI;UAAmB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC5BvG,OAAA;YAAQmG,OAAO,EAAER,UAAW;YAACM,SAAS,EAAC,UAAU;YAAAC,QAAA,EAAC;UAElD;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACNvG,OAAA;UAAKiG,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAC/BlG,OAAA;YAAKiG,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BlG,OAAA;cAAAkG,QAAA,EAAO;YAAK;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACpBvG,OAAA;cAAAkG,QAAA,EAAIvF,eAAe,CAACE;YAAI;cAAAuF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1B,CAAC,eACNvG,OAAA;YAAKiG,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BlG,OAAA;cAAAkG,QAAA,EAAO;YAAQ;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACvBvG,OAAA;cAAAkG,QAAA,EAAIvF,eAAe,CAACH;YAAW;cAAA4F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjC,CAAC,eACNvG,OAAA;YAAKiG,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BlG,OAAA;cAAAkG,QAAA,EAAO;YAAQ;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACvBvG,OAAA;cAAAkG,QAAA,EAAIvF,eAAe,CAACG,cAAc,IAAI;YAAc;cAAAsF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtD,CAAC,eACNvG,OAAA;YAAKiG,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BlG,OAAA;cAAAkG,QAAA,EAAO;YAAW;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC1BvG,OAAA;cAAAkG,QAAA,GAAG,OAAK,EAACvF,eAAe,CAACI,UAAU,EAAC,GAAC;YAAA;cAAAqF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtC,CAAC,eACNvG,OAAA;YAAKiG,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BlG,OAAA;cAAAkG,QAAA,EAAO;YAAQ;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACvBvG,OAAA;cAAGiG,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAEvF,eAAe,CAACK;YAAO;cAAAoF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNvG,OAAA;QAAKiG,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3BlG,OAAA;UAAKiG,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3BlG,OAAA;YAAAkG,QAAA,EAAI;UAAe;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACxBvG,OAAA;YAAKiG,SAAS,EAAC,cAAc;YAAAC,QAAA,EAC1B,CAAC3E,SAAS,gBACTvB,OAAA;cAAQmG,OAAO,EAAEpD,UAAW;cAACkD,SAAS,EAAC,UAAU;cAAAC,QAAA,EAAC;YAElD;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,gBAETvG,OAAA;cAAQmG,OAAO,EAAEnD,UAAW;cAACiD,SAAS,EAAC,UAAU;cAAAC,QAAA,EAAC;YAElD;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UACT;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENvG,OAAA;UAAKiG,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5BlG,OAAA;YAAKiG,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBlG,OAAA;cAAAkG,QAAA,EAAO;YAAK;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACpBvG,OAAA;cACEqE,IAAI,EAAC,MAAM;cACXlB,KAAK,EAAExC,eAAe,CAACE,IAAK;cAC5B2F,QAAQ,EAAGC,CAAC,IAAKxD,iBAAiB,CAAC,MAAM,EAAEwD,CAAC,CAACC,MAAM,CAACvD,KAAK,CAAE;cAC3DwD,QAAQ,EAAE,CAACpF,SAAU;cACrBqF,WAAW,EAAC;YAAiB;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENvG,OAAA;YAAKiG,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBlG,OAAA;cAAAkG,QAAA,EAAO;YAAa;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC5BvG,OAAA;cACEqE,IAAI,EAAC,MAAM;cACXlB,KAAK,EAAExC,eAAe,CAACH,WAAY;cACnCgG,QAAQ,EAAGC,CAAC,IACVxD,iBAAiB,CAAC,aAAa,EAAEwD,CAAC,CAACC,MAAM,CAACvD,KAAK,CAChD;cACDwD,QAAQ,EAAE,CAACpF,SAAU;cACrBqF,WAAW,EAAC;YAAc;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENvG,OAAA;YAAKiG,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBlG,OAAA;cAAAkG,QAAA,EAAO;YAAgB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC/BvG,OAAA;cACEqE,IAAI,EAAC,MAAM;cACXlB,KAAK,EAAExC,eAAe,CAACG,cAAe;cACtC0F,QAAQ,EAAGC,CAAC,IACVxD,iBAAiB,CAAC,gBAAgB,EAAEwD,CAAC,CAACC,MAAM,CAACvD,KAAK,CACnD;cACDwD,QAAQ,EAAE,CAACpF,SAAU;cACrBqF,WAAW,EAAC;YAA6B;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1C,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENvG,OAAA;YAAKiG,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBlG,OAAA;cAAAkG,QAAA,EAAO;YAAsB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACrCvG,OAAA;cACEqE,IAAI,EAAC,MAAM;cACXlB,KAAK,EAAExC,eAAe,CAACI,UAAW;cAClCyF,QAAQ,EAAGC,CAAC,IACVxD,iBAAiB,CAAC,YAAY,EAAEwD,CAAC,CAACC,MAAM,CAACvD,KAAK,CAC/C;cACDwD,QAAQ,EAAE,CAACpF,SAAU;cACrBqF,WAAW,EAAC;YAAgB;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENvG,OAAA;YAAKiG,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBlG,OAAA;cAAAkG,QAAA,EAAO;YAAe;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC9BvG,OAAA;cACEmD,KAAK,EAAExC,eAAe,CAACK,OAAQ;cAC/BwF,QAAQ,EAAGC,CAAC,IAAKxD,iBAAiB,CAAC,SAAS,EAAEwD,CAAC,CAACC,MAAM,CAACvD,KAAK,CAAE;cAC9DwD,QAAQ,EAAE,CAACpF,SAAU;cACrBsF,IAAI,EAAC,IAAI;cACTD,WAAW,EAAC;YAAoC;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENvG,OAAA;YACEmG,OAAO,EAAE9C,iBAAkB;YAC3BsD,QAAQ,EAAE,CAAChG,eAAe,CAACK,OAAO,IAAIC,SAAU;YAChDgF,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAE3BjF,SAAS,gBACRjB,OAAA,CAAAE,SAAA;cAAAgG,QAAA,gBACElG,OAAA;gBAAMiG,SAAS,EAAC;cAAe;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,qBAEzC;YAAA,eAAE,CAAC,GAEH;UACD;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNvG,OAAA;QAAKiG,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1BlG,OAAA;UAAKiG,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3BlG,OAAA;YAAAkG,QAAA,EAAI;UAAc;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EACtBlF,MAAM,iBACLrB,OAAA;YAAKiG,SAAS,EAAC,aAAa;YAAAC,QAAA,gBAC1BlG,OAAA;cACEmG,OAAO,EAAExB,iBAAkB;cAC3BsB,SAAS,EAAC,qBAAqB;cAAAC,QAAA,EAChC;YAED;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACTvG,OAAA;cAAQmG,OAAO,EAAEd,cAAe;cAACY,SAAS,EAAC,kBAAkB;cAAAC,QAAA,EAAC;YAE9D;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eAENvG,OAAA;UAAKiG,SAAS,EAAC,uBAAuB;UAAAC,QAAA,EACnC7E,MAAM,gBACLrB,OAAA;YACE8G,GAAG,EAAEzF,MAAO;YACZ4E,SAAS,EAAC,YAAY;YACtBc,KAAK,EAAC;UAAsB;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7B,CAAC,gBAEFvG,OAAA;YAAKiG,SAAS,EAAC,YAAY;YAAAC,QAAA,eACzBlG,OAAA;cAAKiG,SAAS,EAAC,oBAAoB;cAAAC,QAAA,gBACjClG,OAAA;gBAAMiG,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAAC;cAAE;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACxCvG,OAAA;gBAAAkG,QAAA,EAAI;cAAoB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC7BvG,OAAA;gBAAAkG,QAAA,EAAG;cAGH;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QACN;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGLpF,OAAO,iBACNnB,OAAA;MACEiG,SAAS,EAAE,kBACT9E,OAAO,CAACkB,QAAQ,CAAC,GAAG,CAAC,GACjB,SAAS,GACTlB,OAAO,CAACkB,QAAQ,CAAC,GAAG,CAAC,GACrB,OAAO,GACPlB,OAAO,CAACkB,QAAQ,CAAC,GAAG,CAAC,GACrB,SAAS,GACT,MAAM,EACT;MAAA6D,QAAA,EAEF/E;IAAO;MAAAiF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACnG,EAAA,CA5aQD,qBAAqB;EAAA,QACXP,WAAW,EACXC,WAAW;AAAA;AAAAmH,EAAA,GAFrB7G,qBAAqB;AA8a9B,eAAeA,qBAAqB;AAAC,IAAA6G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}